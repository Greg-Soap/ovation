'use client'

import Image from 'next/image'
import React, { ReactElement, useState } from 'react'
import { useRouter } from 'next/navigation'

import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from '@/components/ui/popover'

export default function Aside() {
  const homeIcon = (
    <svg
      viewBox="0 0 23 23"
      fill=""
      stroke="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-6 h-6 group-hover:fill-white"
    >
      <path
        d="M19.9009 8.24649L13.8968 3.44315C12.7234 2.50815 10.8901 2.49899 9.72593 3.43399L3.72177 8.24649C2.8601 8.93399 2.3376 10.309 2.52094 11.3907L3.67594 18.3023C3.94177 19.8515 5.38094 21.0707 6.94844 21.0707H16.6651C18.2143 21.0707 19.6809 19.824 19.9468 18.2932L21.1018 11.3815C21.2668 10.309 20.7443 8.93399 19.9009 8.24649ZM12.4943 17.404C12.4943 17.7798 12.1826 18.0915 11.8068 18.0915C11.4309 18.0915 11.1193 17.7798 11.1193 17.404V14.654C11.1193 14.2782 11.4309 13.9665 11.8068 13.9665C12.1826 13.9665 12.4943 14.2782 12.4943 14.654V17.404Z"
        fill=""
      />
    </svg>
  )

  const discoverIcon = (
    <svg
      viewBox="0 0 23 23"
      fill=""
      stroke="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-6 h-6 group-hover:fill-white"
    >
      <path
        d="M11.8034 21.0296C6.36755 21.0296 1.94922 16.6113 1.94922 11.1755C1.94922 5.73962 6.36755 1.32129 11.8034 1.32129C17.2392 1.32129 21.6576 5.73962 21.6576 11.1755C21.6576 16.6113 17.2392 21.0296 11.8034 21.0296ZM11.8034 2.69629C7.12839 2.69629 3.32422 6.50046 3.32422 11.1755C3.32422 15.8505 7.12839 19.6546 11.8034 19.6546C16.4784 19.6546 20.2826 15.8505 20.2826 11.1755C20.2826 6.50046 16.4784 2.69629 11.8034 2.69629Z"
        fill=""
      />
      <path
        d="M10.4284 15.5306C8.78755 15.5306 7.44922 14.1923 7.44922 12.5514C7.44922 9.38893 10.0159 6.82227 13.1784 6.82227C14.8192 6.82227 16.1576 8.1606 16.1576 9.80143C16.1576 12.9639 13.5909 15.5306 10.4284 15.5306ZM13.1784 8.19727C10.7767 8.19727 8.82422 10.1498 8.82422 12.5514C8.82422 13.4314 9.54839 14.1556 10.4284 14.1556C12.8301 14.1556 14.7826 12.2031 14.7826 9.80143C14.7826 8.92143 14.0584 8.19727 13.1784 8.19727Z"
        fill=""
      />
    </svg>
  )

  const profileIcon = (
    <svg
      viewBox="0 0 23 23"
      fill=""
      stroke="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-6 h-6 group-hover:fill-white"
    >
      <path
        d="M11.951 11C11.9235 11 11.9052 11 11.8777 11C11.8319 10.9908 11.7677 10.9908 11.7127 11C9.05437 10.9175 7.04688 8.82747 7.04688 6.25164C7.04688 3.62997 9.18271 1.49414 11.8044 1.49414C14.426 1.49414 16.5619 3.62997 16.5619 6.25164C16.5527 8.82747 14.536 10.9175 11.9785 11C11.9694 11 11.9602 11 11.951 11ZM11.8044 2.86914C9.94354 2.86914 8.42188 4.39081 8.42188 6.25164C8.42188 8.08497 9.85187 9.56081 11.676 9.62497C11.7219 9.61581 11.8502 9.61581 11.9694 9.62497C13.766 9.54247 15.1777 8.06664 15.1869 6.25164C15.1869 4.39081 13.6652 2.86914 11.8044 2.86914Z"
        fill=""
      />
      <path
        d="M11.9587 21.0198C10.162 21.0198 8.3562 20.5615 6.99036 19.6448C5.7162 18.8015 5.01953 17.6465 5.01953 16.3906C5.01953 15.1348 5.7162 13.9706 6.99036 13.1181C9.74036 11.294 14.1954 11.294 16.927 13.1181C18.192 13.9615 18.8979 15.1165 18.8979 16.3723C18.8979 17.6281 18.2012 18.7923 16.927 19.6448C15.552 20.5615 13.7554 21.0198 11.9587 21.0198ZM7.7512 14.2731C6.8712 14.8598 6.39453 15.6115 6.39453 16.3998C6.39453 17.179 6.88036 17.9306 7.7512 18.5081C10.0337 20.039 13.8837 20.039 16.1662 18.5081C17.0462 17.9215 17.5229 17.1698 17.5229 16.3815C17.5229 15.6023 17.037 14.8506 16.1662 14.2731C13.8837 12.7515 10.0337 12.7515 7.7512 14.2731Z"
        fill=""
      />
    </svg>
  )

  const settingsIcon = (
    <svg
      viewBox="0 0 23 23"
      fill=""
      stroke="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-6 h-6 group-hover:fill-white"
    >
      <path
        d="M11.8047 14.9619C9.90719 14.9619 8.36719 13.4219 8.36719 11.5244C8.36719 9.62691 9.90719 8.08691 11.8047 8.08691C13.7022 8.08691 15.2422 9.62691 15.2422 11.5244C15.2422 13.4219 13.7022 14.9619 11.8047 14.9619ZM11.8047 9.46191C10.668 9.46191 9.74219 10.3877 9.74219 11.5244C9.74219 12.6611 10.668 13.5869 11.8047 13.5869C12.9414 13.5869 13.8672 12.6611 13.8672 11.5244C13.8672 10.3877 12.9414 9.46191 11.8047 9.46191Z"
        fill=""
      />
      <path
        d="M14.7459 20.8652C14.5534 20.8652 14.3609 20.8377 14.1684 20.7919C13.6001 20.636 13.1234 20.2785 12.8209 19.7744L12.7109 19.591C12.1701 18.656 11.4276 18.656 10.8867 19.591L10.7859 19.7652C10.4834 20.2785 10.0067 20.6452 9.43839 20.7919C8.86089 20.9477 8.26505 20.8652 7.76089 20.5627L6.18422 19.6552C5.62505 19.3344 5.22172 18.8119 5.04755 18.1794C4.88255 17.5469 4.96505 16.896 5.28589 16.3369C5.55172 15.8694 5.62505 15.4477 5.46922 15.1819C5.31339 14.916 4.91922 14.7602 4.37839 14.7602C3.04005 14.7602 1.94922 13.6694 1.94922 12.331V10.7177C1.94922 9.37935 3.04005 8.28852 4.37839 8.28852C4.91922 8.28852 5.31339 8.13269 5.46922 7.86685C5.62505 7.60102 5.56089 7.17935 5.28589 6.71185C4.96505 6.15269 4.88255 5.49268 5.04755 4.86935C5.21255 4.23685 5.61589 3.71435 6.18422 3.39352L7.77005 2.48602C8.80589 1.87185 10.1717 2.22935 10.7951 3.28352L10.9051 3.46685C11.4459 4.40185 12.1884 4.40185 12.7292 3.46685L12.8301 3.29268C13.4534 2.22935 14.8192 1.87185 15.8642 2.49518L17.4409 3.40268C18.0001 3.72352 18.4034 4.24602 18.5776 4.87852C18.7426 5.51102 18.6601 6.16185 18.3392 6.72102C18.0734 7.18852 18.0001 7.61019 18.1559 7.87602C18.3117 8.14185 18.7059 8.29769 19.2467 8.29769C20.5851 8.29769 21.6759 9.38852 21.6759 10.7269V12.3402C21.6759 13.6785 20.5851 14.7694 19.2467 14.7694C18.7059 14.7694 18.3117 14.9252 18.1559 15.191C18.0001 15.4569 18.0642 15.8785 18.3392 16.346C18.6601 16.9052 18.7517 17.5652 18.5776 18.1885C18.4126 18.821 18.0092 19.3435 17.4409 19.6644L15.8551 20.5719C15.5067 20.7644 15.1309 20.8652 14.7459 20.8652ZM11.8034 17.4735C12.6192 17.4735 13.3801 17.9869 13.9026 18.8944L14.0034 19.0685C14.1134 19.261 14.2967 19.3985 14.5167 19.4535C14.7367 19.5085 14.9567 19.481 15.1401 19.371L16.7259 18.4544C16.9642 18.3169 17.1476 18.0877 17.2209 17.8127C17.2942 17.5377 17.2576 17.2535 17.1201 17.0152C16.5976 16.1169 16.5334 15.191 16.9367 14.4852C17.3401 13.7794 18.1742 13.376 19.2192 13.376C19.8059 13.376 20.2734 12.9085 20.2734 12.3219V10.7085C20.2734 10.131 19.8059 9.65435 19.2192 9.65435C18.1742 9.65435 17.3401 9.25102 16.9367 8.54519C16.5334 7.83935 16.5976 6.91352 17.1201 6.01518C17.2576 5.77685 17.2942 5.49268 17.2209 5.21768C17.1476 4.94268 16.9734 4.72268 16.7351 4.57602L15.1492 3.66852C14.7551 3.43018 14.2326 3.56768 13.9942 3.97102L13.8934 4.14518C13.3709 5.05268 12.6101 5.56602 11.7942 5.56602C10.9784 5.56602 10.2176 5.05268 9.69505 4.14518L9.59422 3.96185C9.36505 3.57685 8.85172 3.43935 8.45755 3.66852L6.87172 4.58518C6.63339 4.72268 6.45005 4.95185 6.37672 5.22685C6.30339 5.50185 6.34005 5.78602 6.47755 6.02435C7.00005 6.92269 7.06422 7.84852 6.66089 8.55435C6.25755 9.26019 5.42339 9.66352 4.37839 9.66352C3.79172 9.66352 3.32422 10.131 3.32422 10.7177V12.331C3.32422 12.9085 3.79172 13.3852 4.37839 13.3852C5.42339 13.3852 6.25755 13.7885 6.66089 14.4944C7.06422 15.2002 7.00005 16.126 6.47755 17.0244C6.34005 17.2627 6.30339 17.5469 6.37672 17.8219C6.45005 18.0969 6.62422 18.3169 6.86255 18.4635L8.44839 19.371C8.64089 19.4902 8.87005 19.5177 9.08089 19.4627C9.30089 19.4077 9.48422 19.261 9.60339 19.0685L9.70422 18.8944C10.2267 17.996 10.9876 17.4735 11.8034 17.4735Z"
        fill=""
      />
    </svg>
  )

  const messageIcon = (
    <svg
      viewBox="0 0 23 23"
      fill="none"
      stroke=""
      xmlns="http://www.w3.org/2000/svg"
      className="w-6 h-6 group-hover:stroke-white"
    >
      <path
        d="M8.59115 18.1146H8.13281C4.46615 18.1146 2.63281 17.1979 2.63281 12.6146V8.03125C2.63281 4.36458 4.46615 2.53125 8.13281 2.53125H15.4661C19.1328 2.53125 20.9661 4.36458 20.9661 8.03125V12.6146C20.9661 16.2812 19.1328 18.1146 15.4661 18.1146H15.0078C14.7236 18.1146 14.4486 18.2521 14.2745 18.4812L12.8995 20.3146C12.2945 21.1212 11.3045 21.1212 10.6995 20.3146L9.32448 18.4812C9.17781 18.2796 8.83865 18.1146 8.59115 18.1146Z"
        stroke=""
        strokeWidth="1.375"
        strokeMiterlimit="10"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
      <path
        d="M15.465 10.7806H15.4733"
        stroke=""
        strokeWidth="1.83333"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
      <path
        d="M11.797 10.7806H11.8053"
        stroke=""
        strokeWidth="1.83333"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
      <path
        d="M8.12908 10.7806H8.13731"
        stroke=""
        strokeWidth="1.83333"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
    </svg>
  )

  const notificationIcon = (
    <svg
      viewBox="0 0 23 23"
      fill=""
      stroke="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-6 h-6 group-hover:fill-white"
    >
      <path
        d="M11.8086 10.5164C11.4328 10.5164 11.1211 10.2047 11.1211 9.82887V6.77637C11.1211 6.40053 11.4328 6.08887 11.8086 6.08887C12.1844 6.08887 12.4961 6.40053 12.4961 6.77637V9.82887C12.4961 10.2139 12.1844 10.5164 11.8086 10.5164Z"
        fill=""
      />
      <path
        d="M11.8284 19.5273C9.46335 19.5273 7.10752 19.1514 4.86168 18.3998C4.02752 18.1248 3.39502 17.5289 3.12002 16.7773C2.84502 16.0256 2.93668 15.1639 3.38585 14.4123L4.55002 12.4689C4.80668 12.0381 5.03585 11.2314 5.03585 10.7273V8.80227C5.03585 5.0531 8.07919 2.00977 11.8284 2.00977C15.5775 2.00977 18.6209 5.0531 18.6209 8.80227V10.7273C18.6209 11.2223 18.85 12.0381 19.1067 12.4689L20.2709 14.4123C20.7017 15.1273 20.775 15.9798 20.4909 16.7589C20.2067 17.5381 19.5834 18.1339 18.795 18.3998C16.5492 19.1606 14.1934 19.5273 11.8284 19.5273ZM11.8284 3.39393C8.84002 3.39393 6.41085 5.8231 6.41085 8.81143V10.7364C6.41085 11.4789 6.11752 12.5514 5.73252 13.1839L4.56835 15.1364C4.33002 15.5306 4.27502 15.9523 4.41252 16.3189C4.55002 16.6856 4.86168 16.9606 5.30168 17.1073C9.51835 18.5098 14.1567 18.5098 18.3734 17.1073C18.7675 16.9789 19.07 16.6856 19.2075 16.3006C19.3542 15.9156 19.3084 15.4939 19.0975 15.1364L17.9334 13.1931C17.5484 12.5606 17.255 11.4881 17.255 10.7456V8.8206C17.2459 5.8231 14.8167 3.39393 11.8284 3.39393Z"
        fill=""
      />
      <path
        d="M11.8103 21.866C10.8295 21.866 9.86698 21.4626 9.17031 20.766C8.47365 20.0693 8.07031 19.1068 8.07031 18.126H9.44531C9.44531 18.7493 9.70198 19.3543 10.142 19.7943C10.582 20.2343 11.187 20.491 11.8103 20.491C13.112 20.491 14.1753 19.4276 14.1753 18.126H15.5503C15.5503 20.1885 13.8728 21.866 11.8103 21.866Z"
        fill=""
      />
    </svg>
  )

  const moreIcon = (
    <svg
      viewBox="0 0 18 5"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-6 h-1"
    >
      <path
        d="M2 0.714844C0.9 0.714844 0 1.61484 0 2.71484C0 3.81484 0.9 4.71484 2 4.71484C3.1 4.71484 4 3.81484 4 2.71484C4 1.61484 3.1 0.714844 2 0.714844Z"
        fill="#B3B3B3"
      />
      <path
        d="M16 0.714844C14.9 0.714844 14 1.61484 14 2.71484C14 3.81484 14.9 4.71484 16 4.71484C17.1 4.71484 18 3.81484 18 2.71484C18 1.61484 17.1 0.714844 16 0.714844Z"
        fill="#B3B3B3"
      />
      <path
        d="M9 0.714844C7.9 0.714844 7 1.61484 7 2.71484C7 3.81484 7.9 4.71484 9 4.71484C10.1 4.71484 11 3.81484 11 2.71484C11 1.61484 10.1 0.714844 9 0.714844Z"
        fill="#B3B3B3"
      />
    </svg>
  )

  interface MenuItem {
    icon: ReactElement
    text: string
    path: string
  }

  const router = useRouter()
  const currentPath =
    typeof window !== 'undefined' ? window.location.pathname : ''

  const menuItems: MenuItem[] = [
    { icon: homeIcon, text: 'Home', path: '/timeline' },
    { icon: discoverIcon, text: 'Discover', path: '/discover' },
    { icon: profileIcon, text: 'Profile', path: '/profile' },
    { icon: settingsIcon, text: 'Settings', path: '/settings' },
    { icon: messageIcon, text: 'Messages', path: '/messages' },
    { icon: notificationIcon, text: 'Notification', path: '/notification' },
  ]

  const handleClick = (path: string) => {
    router.push(path)
  }

  return (
    <aside className="flex flex-col items-center gap-7 pt-4 w-[310px] 2xl:w-[310px] border-r border-[#1A1A1A] sticky top-0 bg-[#111115]">
      <div className="w-[85%] flex flex-col h-fit gap-3">
        {menuItems.map((item, index) => {
          const isActive = currentPath === item.path

          return (
            <button
              className={`flex items-center gap-2 p-3 rounded-[50px] group transition-all duration-300 ${
                isActive
                  ? 'bg-[#232227] fill-white stroke-white'
                  : 'fill-[#B3B3B3] stroke-[#B3B3B3] bg-transparent'
              }`}
              key={index}
              onClick={() => handleClick(item.path)}
            >
              {item.icon}
              <p
                className={`group-hover:text-white ${isActive ? 'text-white font-medium' : 'text-[#B3B3B3]'}`}
              >
                {item.text}
              </p>
            </button>
          )
        })}
      </div>

      <div className="flex items-center justify-between w-[90%] absolute bottom-0 pb-5">
        <div className="flex items-center gap-2">
          <Image
            src="/assets/images/timeline/Shape.png"
            alt="User Display Picture"
            width={40}
            height={40}
          />

          <div className="flex flex-col">
            <p className="text-base font-semibold leading-5 text-white">
              0xrxc.....d67579
            </p>
            <p className="text-xs leading-5 font-medium text-[#B3B3B3]">
              2,000 &OVA
            </p>
          </div>
        </div>

        <Popover>
          <PopoverTrigger className="p-1 rounded-full">
            {moreIcon}
          </PopoverTrigger>
          <PopoverContent className="w-fit bg-[#232227] flex flex-col items-start border-none text-white text-base py-2">
            <button className="py-[10px]">Add an existing account</button>
            <button className="py-[10px]">Logout @pancake</button>
          </PopoverContent>
        </Popover>
      </div>
    </aside>
  )
}
